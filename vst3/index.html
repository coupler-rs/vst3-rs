<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The `vst3` crate provides Rust bindings for the VST 3 API, generated from the original C++ headers. Abstractions are provided for manipulating COM objects and implementing COM interfaces from Rust. Beyond that, however, these bindings are unsafe, and no attempt is made to abstract over the VST 3 API itself."><title>vst3 - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="vst3" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../vst3/index.html">vst3</a><span class="version">0.1.1</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">vst3</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/vst3/lib.rs.html#1-64">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <code>vst3</code> crate provides Rust bindings for the VST 3 API, generated from the original C++
headers. Abstractions are provided for manipulating COM objects and implementing COM interfaces
from Rust. Beyond that, however, these bindings are unsafe, and no attempt is made to abstract
over the VST 3 API itself.</p>
<h2 id="bindings"><a href="#bindings">Bindings</a></h2>
<p>Generated bindings are located in the <a href="Steinberg/index.html" title="mod vst3::Steinberg"><code>Steinberg</code></a> module. In addition to the COM interfaces,
bindings include struct definitions, type aliases, constants, and enums. The module structure
of the bindings mirrors the namespace structure of the original headers, with minor differences
where necessary (e.g., definitions which are nested inside a C++ type <code>SomeType</code> will be found
inside a <code>SomeType_</code> module in the generated bindings).</p>
<p>For each COM interface <code>IInterface</code> in the C++ headers, the bindings include a corresponding
Rust type <code>IInterface</code>, a virtual table struct <code>IInterfaceVtbl</code>, and a trait <code>IInterfaceTrait</code>
(excluding <code>FUnknown</code>, for which no trait is generated). Each <code>IInterface</code> type also implements
the <a href="trait.Interface.html" title="trait vst3::Interface"><code>Interface</code></a> trait, which holds an associated constant <a href="trait.Interface.html#associatedconstant.IID" title="associated constant vst3::Interface::IID"><code>Interface::IID</code></a> specifying the
GUID corresponding to that interface.</p>
<h2 id="interacting-with-com-objects"><a href="#interacting-with-com-objects">Interacting with COM objects</a></h2>
<p>The <a href="struct.ComPtr.html" title="struct vst3::ComPtr"><code>ComPtr</code></a> and <a href="struct.ComRef.html" title="struct vst3::ComRef"><code>ComRef</code></a> smart pointers are provided for interacting with COM objects.
These types make it safer and more convenient to call methods, cast between interfaces, and
manage reference counts.</p>
<p>For an overview of how to properly manage ownership and reference counts using <a href="struct.ComPtr.html" title="struct vst3::ComPtr"><code>ComPtr</code></a> and
<a href="struct.ComRef.html" title="struct vst3::ComRef"><code>ComRef</code></a>, see the <a href="../com_scrape_types/index.html#reference-counting" title="mod com_scrape_types"><code>com-scrape-types</code> documentation</a>.</p>
<h2 id="implementing-com-interfaces-from-rust"><a href="#implementing-com-interfaces-from-rust">Implementing COM interfaces from Rust</a></h2>
<p>COM classes can be defined in Rust using the <a href="trait.Class.html" title="trait vst3::Class"><code>Class</code></a> trait and the interface traits generated
from the VST 3 headers, and objects of these classes can be instantiated using the
<a href="struct.ComWrapper.html" title="struct vst3::ComWrapper"><code>ComWrapper</code></a> smart pointer:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">struct </span>MyClass;

<span class="kw">impl </span>Class <span class="kw">for </span>MyClass {
    <span class="kw">type </span>Interfaces = (IPluginBase,);
}

<span class="kw">impl </span>IPluginBaseTrait <span class="kw">for </span>MyClass {
    <span class="kw">unsafe fn </span>initialize(<span class="kw-2">&amp;</span><span class="self">self</span>, context: <span class="kw-2">*mut </span>FUnknown) -&gt; tresult {
        kResultOk
    }

    <span class="kw">unsafe fn </span>terminate(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; tresult {
        kResultOk
    }
}

<span class="kw">let </span>my_obj = ComWrapper::new(MyClass);
<span class="kw">let </span>ptr = my_obj.to_com_ptr::&lt;IPluginBase&gt;().unwrap();</code></pre></div>
<p>For more detail on implementing COM interfaces from rust, see the
<a href="../com_scrape_types/index.html#implementing-com-interfaces-from-rust" title="mod com_scrape_types"><code>com-scrape-types</code> documentation</a>.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.com_scrape_types"><code>pub use <a class="mod" href="../com_scrape_types/index.html" title="mod com_scrape_types">com_scrape_types</a>;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="Steinberg/index.html" title="mod vst3::Steinberg">Steinberg</a></div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ComPtr.html" title="struct vst3::ComPtr">ComPtr</a></div><div class="desc docblock-short">An owning smart pointer to a COM object.</div></li><li><div class="item-name"><a class="struct" href="struct.ComRef.html" title="struct vst3::ComRef">ComRef</a></div><div class="desc docblock-short">A non-owning smart pointer to a COM object.</div></li><li><div class="item-name"><a class="struct" href="struct.ComWrapper.html" title="struct vst3::ComWrapper">ComWrapper</a></div><div class="desc docblock-short">A wrapper for constructing a reference-counted COM object from a Rust value.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Class.html" title="trait vst3::Class">Class</a></div><div class="desc docblock-short">A Rust type that defines a COM class.</div></li><li><div class="item-name"><a class="trait" href="trait.Interface.html" title="trait vst3::Interface">Interface</a></div><div class="desc docblock-short">Implemented by all COM interface types.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.uid.html" title="fn vst3::uid">uid</a></div><div class="desc docblock-short">Constructs a 16-byte <a href="Steinberg/type.TUID.html" title="type vst3::Steinberg::TUID"><code>TUID</code></a> value from four 32-bit integers.</div></li></ul></section></div></main></body></html>